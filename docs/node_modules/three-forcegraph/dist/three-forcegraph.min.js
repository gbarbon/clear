// Version 1.12.3 three-forcegraph - https://github.com/vasturiano/three-forcegraph
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("three")):"function"==typeof define&&define.amd?define(["three"],t):e.ThreeForceGraph=t(e.THREE)}(this,function(e){"use strict";function d(e){return function(){return e}}function v(){return 1e-6*(Math.random()-.5)}function o(e,t,n){if(isNaN(t))return e;var r,a,f,i,o,c,s=e._root,d={data:n},u=e._x0,h=e._x1;if(!s)return e._root=d,e;for(;s.length;)if((i=t>=(a=(u+h)/2))?u=a:h=a,!(s=(r=s)[o=+i]))return r[o]=d,e;if(t===(f=+e._x.call(null,s.data)))return d.next=s,r?r[o]=d:e._root=d,e;for(;r=r?r[o]=new Array(2):e._root=new Array(2),(i=t>=(a=(u+h)/2))?u=a:h=a,(o=+i)==(c=+(a<=f)););return r[c]=s,r[o]=d,e}function l(e,t,n){this.node=e,this.x0=t,this.x1=n}function r(e){return e[0]}function c(e,t){var n=new f(null==t?r:t,NaN,NaN);return null==e?n:n.addAll(e)}function f(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function i(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var t=c.prototype=f.prototype;function h(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var a,f,i,o,c,s,d,u,h,l=e._root,b={data:r},p=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!l)return e._root=b,e;for(;l.length;)if((s=t>=(f=(p+y)/2))?p=f:y=f,(d=n>=(i=(g+v)/2))?g=i:v=i,!(l=(a=l)[u=d<<1|s]))return a[u]=b,e;if(o=+e._x.call(null,l.data),c=+e._y.call(null,l.data),t===o&&n===c)return b.next=l,a?a[u]=b:e._root=b,e;for(;a=a?a[u]=new Array(4):e._root=new Array(4),(s=t>=(f=(p+y)/2))?p=f:y=f,(d=n>=(i=(g+v)/2))?g=i:v=i,(u=d<<1|s)==(h=(i<=c)<<1|f<=o););return a[h]=l,a[u]=b,e}function w(e,t,n,r,a){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=a}function a(e){return e[0]}function s(e){return e[1]}function x(e,t,n){var r=new u(null==t?a:t,null==n?s:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function u(e,t,n,r,a,f){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=a,this._y1=f,this._root=void 0}function b(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}t.copy=function(){var e,t,n=new f(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=i(r),n;for(e=[{source:r,target:n._root=new Array(2)}];r=e.pop();)for(var a=0;a<2;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(2)}):r.target[a]=i(t));return n},t.add=function(e){var t=+this._x.call(null,e);return o(this.cover(t),t,e)},t.addAll=function(e){var t,n,r=e.length,a=new Array(r),f=1/0,i=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,e[t]))||((a[t]=n)<f&&(f=n),i<n&&(i=n));for(i<f&&(f=this._x0,i=this._x1),this.cover(f).cover(i),t=0;t<r;++t)o(this,a[t],e[t]);return this},t.cover=function(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{if(!(e<t||n<e))return this;var r,a,f=n-t,i=this._root;switch(a=+(e<(t+n)/2)){case 0:for(;(r=new Array(2))[a]=i,i=r,(n=t+(f*=2))<e;);break;case 1:for(;(r=new Array(2))[a]=i,i=r,e<(t=n-(f*=2)););}this._root&&this._root.length&&(this._root=i)}return this._x0=t,this._x1=n,this},t.data=function(){var t=[];return this.visit(function(e){if(!e.length)for(;t.push(e.data),e=e.next;);}),t},t.extent=function(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]},t.find=function(e,t){var n,r,a,f,i,o=this._x0,c=this._x1,s=[],d=this._root;for(d&&s.push(new l(d,o,c)),null==t?t=1/0:(o=e-t,c=e+t);f=s.pop();)if(!(!(d=f.node)||(r=f.x0)>c||(a=f.x1)<o))if(d.length){var u=(r+a)/2;s.push(new l(d[1],u,a),new l(d[0],r,u)),(i=+(u<=e))&&(f=s[s.length-1],s[s.length-1]=s[s.length-1-i],s[s.length-1-i]=f)}else{var h=Math.abs(e-+this._x.call(null,d.data));h<t&&(o=e-(t=h),c=e+h,n=d.data)}return n},t.remove=function(e){if(isNaN(f=+this._x.call(null,e)))return this;var t,n,r,a,f,i,o,c,s,d=this._root,u=this._x0,h=this._x1;if(!d)return this;if(d.length)for(;;){if((o=f>=(i=(u+h)/2))?u=i:h=i,!(d=(t=d)[c=+o]))return this;if(!d.length)break;t[c+1&1]&&(n=t,s=c)}for(;d.data!==e;)if(!(d=(r=d).next))return this;return(a=d.next)&&delete d.next,r?a?r.next=a:delete r.next:t?(a?t[c]=a:delete t[c],(d=t[0]||t[1])&&d===(t[1]||t[0])&&!d.length&&(n?n[s]=d:this._root=d)):this._root=a,this},t.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},t.root=function(){return this._root},t.size=function(){var t=0;return this.visit(function(e){if(!e.length)for(;++t,e=e.next;);}),t},t.visit=function(e){var t,n,r,a,f=[],i=this._root;for(i&&f.push(new l(i,this._x0,this._x1));t=f.pop();)if(!e(i=t.node,r=t.x0,a=t.x1)&&i.length){var o=(r+a)/2;(n=i[1])&&f.push(new l(n,o,a)),(n=i[0])&&f.push(new l(n,r,o))}return this},t.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new l(this._root,this._x0,this._x1));t=n.pop();){var a=t.node;if(a.length){var f,i=t.x0,o=t.x1,c=(i+o)/2;(f=a[0])&&n.push(new l(f,i,c)),(f=a[1])&&n.push(new l(f,c,o))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.x1);return this},t.x=function(e){return arguments.length?(this._x=e,this):this._x};var n=x.prototype=u.prototype;function g(e,t,n,r,a){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var f,i,o,c,s,d,u,h,l,b,p,g,y=e._root,v={data:a},x=e._x0,m=e._y0,_=e._z0,w=e._x1,k=e._y1,N=e._z1;if(!y)return e._root=v,e;for(;y.length;)if((h=t>=(i=(x+w)/2))?x=i:w=i,(l=n>=(o=(m+k)/2))?m=o:k=o,(b=r>=(c=(_+N)/2))?_=c:N=c,!(y=(f=y)[p=b<<2|l<<1|h]))return f[p]=v,e;if(s=+e._x.call(null,y.data),d=+e._y.call(null,y.data),u=+e._z.call(null,y.data),t===s&&n===d&&r===u)return v.next=y,f?f[p]=v:e._root=v,e;for(;f=f?f[p]=new Array(8):e._root=new Array(8),(h=t>=(i=(x+w)/2))?x=i:w=i,(l=n>=(o=(m+k)/2))?m=o:k=o,(b=r>=(c=(_+N)/2))?_=c:N=c,(p=b<<2|l<<1|h)==(g=(c<=u)<<2|(o<=d)<<1|i<=s););return f[g]=y,f[p]=v,e}function P(e,t,n,r,a,f,i){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=a,this.y1=f,this.z1=i}function p(e){return e[0]}function y(e){return e[1]}function m(e){return e[2]}function _(e,t,n,r){var a=new k(null==t?p:t,null==n?y:n,null==r?m:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?a:a.addAll(e)}function k(e,t,n,r,a,f,i,o,c){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=a,this._z0=f,this._x1=i,this._y1=o,this._z1=c,this._root=void 0}function N(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}n.copy=function(){var e,t,n=new u(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=b(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var a=0;a<4;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(4)}):r.target[a]=b(t));return n},n.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return h(this.cover(t,n),t,n,e)},n.addAll=function(e){var t,n,r,a,f=e.length,i=new Array(f),o=new Array(f),c=1/0,s=1/0,d=-1/0,u=-1/0;for(n=0;n<f;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||((i[n]=r)<c&&(c=r),d<r&&(d=r),(o[n]=a)<s&&(s=a),u<a&&(u=a));for(d<c&&(c=this._x0,d=this._x1),u<s&&(s=this._y0,u=this._y1),this.cover(c,s).cover(d,u),n=0;n<f;++n)h(this,i[n],o[n],e[n]);return this},n.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,a=this._x1,f=this._y1;if(isNaN(n))a=(n=Math.floor(e))+1,f=(r=Math.floor(t))+1;else{if(!(e<n||a<e||t<r||f<t))return this;var i,o,c=a-n,s=this._root;switch(o=(t<(r+f)/2)<<1|e<(n+a)/2){case 0:for(;(i=new Array(4))[o]=s,s=i,f=r+(c*=2),(a=n+c)<e||f<t;);break;case 1:for(;(i=new Array(4))[o]=s,s=i,f=r+(c*=2),e<(n=a-c)||f<t;);break;case 2:for(;(i=new Array(4))[o]=s,s=i,r=f-(c*=2),(a=n+c)<e||t<r;);break;case 3:for(;(i=new Array(4))[o]=s,s=i,r=f-(c*=2),e<(n=a-c)||t<r;);}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=a,this._y1=f,this},n.data=function(){var t=[];return this.visit(function(e){if(!e.length)for(;t.push(e.data),e=e.next;);}),t},n.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(e,t,n){var r,a,f,i,o,c,s,d=this._x0,u=this._y0,h=this._x1,l=this._y1,b=[],p=this._root;for(p&&b.push(new w(p,d,u,h,l)),null==n?n=1/0:(d=e-n,u=t-n,h=e+n,l=t+n,n*=n);c=b.pop();)if(!(!(p=c.node)||(a=c.x0)>h||(f=c.y0)>l||(i=c.x1)<d||(o=c.y1)<u))if(p.length){var g=(a+i)/2,y=(f+o)/2;b.push(new w(p[3],g,y,i,o),new w(p[2],a,y,g,o),new w(p[1],g,f,i,y),new w(p[0],a,f,g,y)),(s=(y<=t)<<1|g<=e)&&(c=b[b.length-1],b[b.length-1]=b[b.length-1-s],b[b.length-1-s]=c)}else{var v=e-+this._x.call(null,p.data),x=t-+this._y.call(null,p.data),m=v*v+x*x;if(m<n){var _=Math.sqrt(n=m);d=e-_,u=t-_,h=e+_,l=t+_,r=p.data}}return r},n.remove=function(e){if(isNaN(f=+this._x.call(null,e))||isNaN(i=+this._y.call(null,e)))return this;var t,n,r,a,f,i,o,c,s,d,u,h,l=this._root,b=this._x0,p=this._y0,g=this._x1,y=this._y1;if(!l)return this;if(l.length)for(;;){if((s=f>=(o=(b+g)/2))?b=o:g=o,(d=i>=(c=(p+y)/2))?p=c:y=c,!(l=(t=l)[u=d<<1|s]))return this;if(!l.length)break;(t[u+1&3]||t[u+2&3]||t[u+3&3])&&(n=t,h=u)}for(;l.data!==e;)if(!(l=(r=l).next))return this;return(a=l.next)&&delete l.next,r?a?r.next=a:delete r.next:t?(a?t[u]=a:delete t[u],(l=t[0]||t[1]||t[2]||t[3])&&l===(t[3]||t[2]||t[1]||t[0])&&!l.length&&(n?n[h]=l:this._root=l)):this._root=a,this},n.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},n.root=function(){return this._root},n.size=function(){var t=0;return this.visit(function(e){if(!e.length)for(;++t,e=e.next;);}),t},n.visit=function(e){var t,n,r,a,f,i,o=[],c=this._root;for(c&&o.push(new w(c,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(c=t.node,r=t.x0,a=t.y0,f=t.x1,i=t.y1)&&c.length){var s=(r+f)/2,d=(a+i)/2;(n=c[3])&&o.push(new w(n,s,d,f,i)),(n=c[2])&&o.push(new w(n,r,d,s,i)),(n=c[1])&&o.push(new w(n,s,a,f,d)),(n=c[0])&&o.push(new w(n,r,a,s,d))}return this},n.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new w(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var a=t.node;if(a.length){var f,i=t.x0,o=t.y0,c=t.x1,s=t.y1,d=(i+c)/2,u=(o+s)/2;(f=a[0])&&n.push(new w(f,i,o,d,u)),(f=a[1])&&n.push(new w(f,d,o,c,u)),(f=a[2])&&n.push(new w(f,i,u,d,s)),(f=a[3])&&n.push(new w(f,d,u,c,s))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},n.x=function(e){return arguments.length?(this._x=e,this):this._x},n.y=function(e){return arguments.length?(this._y=e,this):this._y};var A=_.prototype=k.prototype;A.copy=function(){var e,t,n=new k(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=N(r),n;for(e=[{source:r,target:n._root=new Array(8)}];r=e.pop();)for(var a=0;a<8;++a)(t=r.source[a])&&(t.length?e.push({source:t,target:r.target[a]=new Array(8)}):r.target[a]=N(t));return n},A.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return g(this.cover(t,n,r),t,n,r,e)},A.addAll=function(e){var t,n,r,a,f,i=e.length,o=new Array(i),c=new Array(i),s=new Array(i),d=1/0,u=1/0,h=1/0,l=-1/0,b=-1/0,p=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||isNaN(f=+this._z.call(null,t))||((o[n]=r)<d&&(d=r),l<r&&(l=r),(c[n]=a)<u&&(u=a),b<a&&(b=a),(s[n]=f)<h&&(h=f),p<f&&(p=f));for(l<d&&(d=this._x0,l=this._x1),b<u&&(u=this._y0,b=this._y1),p<h&&(h=this._z0,p=this._z1),this.cover(d,u,h).cover(l,b,p),n=0;n<i;++n)g(this,o[n],c[n],s[n],e[n]);return this},A.cover=function(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,a=this._y0,f=this._z0,i=this._x1,o=this._y1,c=this._z1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(a=Math.floor(t))+1,c=(f=Math.floor(n))+1;else{if(!(e<r||i<e||t<a||o<t||n<f||c<n))return this;var s,d,u=i-r,h=this._root;switch(d=(n<(f+c)/2)<<2|(t<(a+o)/2)<<1|e<(r+i)/2){case 0:for(;(s=new Array(8))[d]=h,h=s,o=a+(u*=2),c=f+u,(i=r+u)<e||o<t||c<n;);break;case 1:for(;(s=new Array(8))[d]=h,h=s,o=a+(u*=2),c=f+u,e<(r=i-u)||o<t||c<n;);break;case 2:for(;(s=new Array(8))[d]=h,h=s,a=o-(u*=2),c=f+u,(i=r+u)<e||t<a||c<n;);break;case 3:for(;(s=new Array(8))[d]=h,h=s,a=o-(u*=2),c=f+u,e<(r=i-u)||t<a||c<n;);break;case 4:for(;(s=new Array(8))[d]=h,h=s,o=a+(u*=2),f=c-u,(i=r+u)<e||o<t||n<f;);break;case 5:for(;(s=new Array(8))[d]=h,h=s,o=a+(u*=2),f=c-u,e<(r=i-u)||o<t||n<f;);break;case 6:for(;(s=new Array(8))[d]=h,h=s,a=o-(u*=2),f=c-u,(i=r+u)<e||t<a||n<f;);break;case 7:for(;(s=new Array(8))[d]=h,h=s,a=o-(u*=2),f=c-u,e<(r=i-u)||t<a||n<f;);}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=a,this._z0=f,this._x1=i,this._y1=o,this._z1=c,this},A.data=function(){var t=[];return this.visit(function(e){if(!e.length)for(;t.push(e.data),e=e.next;);}),t},A.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]},A.find=function(e,t,n,r){var a,f,i,o,c,s,d,u,h,l=this._x0,b=this._y0,p=this._z0,g=this._x1,y=this._y1,v=this._z1,x=[],m=this._root;for(m&&x.push(new P(m,l,b,p,g,y,v)),null==r?r=1/0:(l=e-r,b=t-r,p=n-r,g=e+r,y=t+r,v=n+r,r*=r);u=x.pop();)if(!(!(m=u.node)||(f=u.x0)>g||(i=u.y0)>y||(o=u.z0)>v||(c=u.x1)<l||(s=u.y1)<b||(d=u.z1)<p))if(m.length){var _=(f+c)/2,w=(i+s)/2,k=(o+d)/2;x.push(new P(m[7],_,w,k,c,s,d),new P(m[6],f,w,k,_,s,d),new P(m[5],_,i,k,c,w,d),new P(m[4],f,i,k,_,w,d),new P(m[3],_,w,o,c,s,k),new P(m[2],f,w,o,_,s,k),new P(m[1],_,i,o,c,w,k),new P(m[0],f,i,o,_,w,k)),(h=(k<=n)<<2|(w<=t)<<1|_<=e)&&(u=x[x.length-1],x[x.length-1]=x[x.length-1-h],x[x.length-1-h]=u)}else{var N=e-+this._x.call(null,m.data),A=t-+this._y.call(null,m.data),M=n-+this._z.call(null,m.data),z=N*N+A*A+M*M;if(z<r){var q=Math.sqrt(r=z);l=e-q,b=t-q,p=n-q,g=e+q,y=t+q,v=n+q,a=m.data}}return a},A.remove=function(e){if(isNaN(f=+this._x.call(null,e))||isNaN(i=+this._y.call(null,e))||isNaN(o=+this._z.call(null,e)))return this;var t,n,r,a,f,i,o,c,s,d,u,h,l,b,p,g=this._root,y=this._x0,v=this._y0,x=this._z0,m=this._x1,_=this._y1,w=this._z1;if(!g)return this;if(g.length)for(;;){if((u=f>=(c=(y+m)/2))?y=c:m=c,(h=i>=(s=(v+_)/2))?v=s:_=s,(l=o>=(d=(x+w)/2))?x=d:w=d,!(g=(t=g)[b=l<<2|h<<1|u]))return this;if(!g.length)break;(t[b+1&7]||t[b+2&7]||t[b+3&7]||t[b+4&7]||t[b+5&7]||t[b+6&7]||t[b+7&7])&&(n=t,p=b)}for(;g.data!==e;)if(!(g=(r=g).next))return this;return(a=g.next)&&delete g.next,r?a?r.next=a:delete r.next:t?(a?t[b]=a:delete t[b],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[p]=g:this._root=g)):this._root=a,this},A.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},A.root=function(){return this._root},A.size=function(){var t=0;return this.visit(function(e){if(!e.length)for(;++t,e=e.next;);}),t},A.visit=function(e){var t,n,r,a,f,i,o,c,s=[],d=this._root;for(d&&s.push(new P(d,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=s.pop();)if(!e(d=t.node,r=t.x0,a=t.y0,f=t.z0,i=t.x1,o=t.y1,c=t.z1)&&d.length){var u=(r+i)/2,h=(a+o)/2,l=(f+c)/2;(n=d[7])&&s.push(new P(n,u,h,l,i,o,c)),(n=d[6])&&s.push(new P(n,r,h,l,u,o,c)),(n=d[5])&&s.push(new P(n,u,a,l,i,h,c)),(n=d[4])&&s.push(new P(n,r,a,l,u,h,c)),(n=d[3])&&s.push(new P(n,u,h,f,i,o,l)),(n=d[2])&&s.push(new P(n,r,h,f,u,o,l)),(n=d[1])&&s.push(new P(n,u,a,f,i,h,l)),(n=d[0])&&s.push(new P(n,r,a,f,u,h,l))}return this},A.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new P(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=n.pop();){var a=t.node;if(a.length){var f,i=t.x0,o=t.y0,c=t.z0,s=t.x1,d=t.y1,u=t.z1,h=(i+s)/2,l=(o+d)/2,b=(c+u)/2;(f=a[0])&&n.push(new P(f,i,o,c,h,l,b)),(f=a[1])&&n.push(new P(f,h,o,c,s,l,b)),(f=a[2])&&n.push(new P(f,i,l,c,h,d,b)),(f=a[3])&&n.push(new P(f,h,l,c,s,d,b)),(f=a[4])&&n.push(new P(f,i,o,b,h,l,u)),(f=a[5])&&n.push(new P(f,h,o,b,s,l,u)),(f=a[6])&&n.push(new P(f,i,l,b,h,d,u)),(f=a[7])&&n.push(new P(f,h,l,b,s,d,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this},A.x=function(e){return arguments.length?(this._x=e,this):this._x},A.y=function(e){return arguments.length?(this._y=e,this):this._y},A.z=function(e){return arguments.length?(this._z=e,this):this._z};var M="$";function z(){}function q(e,t){var n=new z;if(e instanceof z)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r,a=-1,f=e.length;if(null==t)for(;++a<f;)n.set(a,e[a]);else for(;++a<f;)n.set(t(r=e[a],a,e),r)}else if(e)for(var i in e)n.set(i,e[i]);return n}function E(){}z.prototype=q.prototype={constructor:z,has:function(e){return M+e in this},get:function(e){return this[M+e]},set:function(e,t){return this[M+e]=t,this},remove:function(e){var t=M+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===M&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===M&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===M&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===M&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===M&&++e;return e},empty:function(){for(var e in this)if(e[0]===M)return!1;return!0},each:function(e){for(var t in this)t[0]===M&&e(this[t],t.slice(1),this)}};var C=q.prototype;function I(e){return e.index}function L(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}E.prototype=function(e,t){var n=new E;if(e instanceof E)e.each(function(e){n.add(e)});else if(e){var r=-1,a=e.length;if(null==t)for(;++r<a;)n.add(e[r]);else for(;++r<a;)n.add(t(e[r],r,e))}return n}.prototype={constructor:E,has:C.has,add:function(e){return this[M+(e+="")]=e,this},remove:C.remove,clear:C.clear,values:C.keys,size:C.size,empty:C.empty,each:C.each};var R={value:function(){}};function B(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r)throw new Error("illegal type: "+e);r[e]=[]}return new O(r)}function O(e){this._=e}function S(e,t){for(var n,r=0,a=e.length;r<a;++r)if((n=e[r]).name===t)return n.value}function D(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=R,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}O.prototype=B.prototype={constructor:O,on:function(e,t){var n,r,a=this._,f=(r=a,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(0<=n&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),i=-1,o=f.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=f[i]).type)a[n]=D(a[n],e.name,t);else if(null==t)for(n in a)a[n]=D(a[n],e.name,null);return this}for(;++i<o;)if((n=(e=f[i]).type)&&(n=S(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new O(e)},call:function(e,t){if(0<(n=arguments.length-2))for(var n,r,a=new Array(n),f=0;f<n;++f)a[f]=arguments[f+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(f=0,n=(r=this._[e]).length;f<n;++f)r[f].value.apply(t,a)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,f=r.length;a<f;++a)r[a].value.apply(t,n)}};var j,T,F=0,U=0,V=0,H=1e3,X=0,G=0,Y=0,$="object"==typeof performance&&performance.now?performance:Date,Q="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function W(){return G||(Q(Z),G=$.now()+Y)}function Z(){G=0}function J(){this._call=this._time=this._next=null}function K(e,t,n){var r=new J;return r.restart(e,t,n),r}function ee(){G=(X=$.now())+Y,F=U=0;try{!function(){W(),++F;for(var e,t=j;t;)0<=(e=G-t._time)&&t._call.call(null,e),t=t._next;--F}()}finally{F=0,function(){var e,t,n=j,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),n=(e=n)._next):(t=n._next,n._next=null,n=e?e._next=t:j=t);T=e,ne(r)}(),G=0}}function te(){var e=$.now(),t=e-X;H<t&&(Y-=t,X=e)}function ne(e){F||(U&&(U=clearTimeout(U)),24<e-G?(e<1/0&&(U=setTimeout(ee,e-$.now()-Y)),V&&(V=clearInterval(V))):(V||(X=$.now(),V=setInterval(te,H)),F=1,Q(ee)))}J.prototype=K.prototype={constructor:J,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?W():+n)+(null==t?0:+t),this._next||T===this||(T?T._next=this:j=this,T=this),this._call=e,this._time=n,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};function re(e){return e.x}function ae(e){return e.y}function fe(e){return e.z}var ie=Math.PI*(3-Math.sqrt(5)),oe=Math.PI/24;var ce=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var i,o,t=(i=e,o=Object.create(null),{on:function(e,t,n){if("function"!=typeof t)throw new Error("callback is expected to be a function");var r=o[e];return r||(r=o[e]=[]),r.push({callback:t,ctx:n}),i},off:function(e,t){var n=void 0===e;if(n)return o=Object.create(null),i;if(o[e]){var r="function"!=typeof t;if(r)delete o[e];else for(var a=o[e],f=0;f<a.length;++f)a[f].callback===t&&a.splice(f,1)}return i},fire:function(e){var t,n=o[e];if(!n)return i;1<arguments.length&&(t=Array.prototype.splice.call(arguments,1));for(var r=0;r<n.length;++r){var a=n[r];a.callback.apply(a.ctx,t)}return i}});return e.on=t.on,e.off=t.off,e.fire=t.fire,e};var se=function(e){"uniqueLinkId"in(e=e||{})&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now own each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId);void 0===e.multigraph&&(e.multigraph=!1);var i="function"==typeof Object.create?Object.create(null):{},o=[],c={},a=0,t=0,n=Object.keys?A:M,s=e.multigraph?function(e,t,n){var r=be(e,t),a=c.hasOwnProperty(r);if(a||_(e,t)){a||(c[r]=0);var f="@"+ ++c[r];r=be(e+f,t+f)}return new le(e,t,n,r)}:function(e,t,n){var r=be(e,t);return new le(e,t,n,r)},r=[],d=w,f=w,u=w,h=w,l={addNode:y,addLink:function(e,t,n){u();var r=v(e)||y(e),a=v(t)||y(t),f=s(e,t,n);o.push(f),he(r,f),e!==t&&he(a,f);return d(f,"add"),h(),f},removeLink:m,removeNode:x,getNode:v,getNodesCount:function(){return a},getLinksCount:function(){return o.length},getLinks:function(e){var t=v(e);return t?t.links:null},forEachNode:n,forEachLinkedNode:function(e,t,n){var r=v(e);if(r&&r.links&&"function"==typeof t)return n?function(e,t,n){for(var r=0;r<e.length;++r){var a=e[r];if(a.fromId===t&&n(i[a.toId],a))return!0}}(r.links,e,t):function(e,t,n){for(var r=0;r<e.length;++r){var a=e[r],f=a.fromId===t?a.toId:a.fromId;if(n(i[f],a))return!0}}(r.links,e,t)},forEachLink:function(e){var t,n;if("function"==typeof e)for(t=0,n=o.length;t<n;++t)e(o[t])},beginUpdate:u,endUpdate:h,clear:function(){u(),n(function(e){x(e.id)}),h()},hasLink:_,hasNode:v,getLink:_};return ce(l),b=l.on,l.on=function(){return l.beginUpdate=u=k,l.endUpdate=h=N,d=p,f=g,(l.on=b).apply(l,arguments)},l;var b;function p(e,t){r.push({link:e,changeType:t})}function g(e,t){r.push({node:e,changeType:t})}function y(e,t){if(void 0===e)throw new Error("Invalid node identifier");u();var n=v(e);return n?(n.data=t,f(n,"update")):(n=new ue(e,t),a++,f(n,"add")),i[e]=n,h(),n}function v(e){return i[e]}function x(e){var t=v(e);if(!t)return!1;u();var n=t.links;if(n){t.links=null;for(var r=0;r<n.length;++r)m(n[r])}return delete i[e],a--,f(t,"remove"),h(),!0}function m(e){if(!e)return!1;var t=de(e,o);if(t<0)return!1;u(),o.splice(t,1);var n=v(e.fromId),r=v(e.toId);return n&&0<=(t=de(e,n.links))&&n.links.splice(t,1),r&&0<=(t=de(e,r.links))&&r.links.splice(t,1),d(e,"remove"),h(),!0}function _(e,t){var n,r=v(e);if(!r||!r.links)return null;for(n=0;n<r.links.length;++n){var a=r.links[n];if(a.fromId===e&&a.toId===t)return a}return null}function w(){}function k(){t+=1}function N(){0===(t-=1)&&0<r.length&&(l.fire("changed",r),r.length=0)}function A(e){if("function"==typeof e)for(var t=Object.keys(i),n=0;n<t.length;++n)if(e(i[t[n]]))return!0}function M(e){var t;if("function"==typeof e)for(t in i)if(e(i[t]))return!0}};function de(e,t){if(!t)return-1;if(t.indexOf)return t.indexOf(e);var n,r=t.length;for(n=0;n<r;n+=1)if(t[n]===e)return n;return-1}function ue(e,t){this.id=e,this.links=null,this.data=t}function he(e,t){e.links?e.links.push(t):e.links=[t]}function le(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function be(e,t){return e.toString()+"👉 "+t.toString()}var pe=function(e,t,n,r,a){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof a?a:1};var ge=function(e,t,n){if("[object Array]"===Object.prototype.toString.call(n))for(var r=0;r<n.length;++r)ye(e,t,n[r]);else for(var a in e)ye(e,t,a)};function ye(t,n,r){if(t.hasOwnProperty(r)){if("function"==typeof n[r])return;n[r]=function(e){return void 0!==e?(t[r]=e,n):t[r]}}}var ve=function e(t,n){var r;t||(t={});if(n)for(r in n)if(n.hasOwnProperty(r)){var a=t.hasOwnProperty(r),f=typeof n[r],i=!a||typeof t[r]!==f;i?t[r]=n[r]:"object"===f&&(t[r]=e(t[r],n[r]))}return t};var xe={random:me,randomIterator:function(a,e){var f=e||me();if("function"!=typeof f.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:function(e){var t,n,r;for(t=a.length-1;0<t;--t)n=f.next(t+1),r=a[n],a[n]=a[t],a[t]=r,e(r);a.length&&e(a[0])},shuffle:function(){var e,t,n;for(e=a.length-1;0<e;--e)t=f.next(e+1),n=a[t],a[t]=a[e],a[e]=n;return a}}}};function me(e){var t="number"==typeof e?e:+new Date,n=function(){return(268435455&(t=4294967295&(3042594569^(t=(t=4294967295&((t=(t=4294967295&(3345072700^(t=t+2127912214+(t<<12)&4294967295)^t>>>19))+374761393+(t<<5)&4294967295)+3550635116^t<<9))+4251993797+(t<<3)&4294967295)^t>>>16)))/268435456};return{next:function(e){return Math.floor(n()*e)},nextDouble:function(){return n()}}}var _e=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0},we=ke;function ke(){this.stack=[],this.popIdx=0}function Ne(e,t){this.node=e,this.body=t}ke.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new Ne(e,t),++this.popIdx},pop:function(){if(0<this.popIdx)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var Ae=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8},Me=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var y=xe.random(1984),t=_e,n=we,v=Ae,b=e.gravity,p=[],x=new n,g=e.theta,r=[],u=0,m=_();return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,f=Number.MIN_VALUE,i=e.length;t=i;for(;t--;){var o=e[t].pos.x,c=e[t].pos.y;o<n&&(n=o),a<o&&(a=o),c<r&&(r=c),f<c&&(f=c)}var s=a-n,d=f-r;d<s?f=r+s:a=n+d;u=0,(m=_()).left=n,m.right=a,m.top=r,m.bottom=f,0<=(t=i-1)&&(m.body=e[t]);for(;t--;)h(e[t])},getRoot:function(){return m},updateBodyForce:function(e){var t,n,r,a,f=p,i=0,o=0,c=1,s=0,d=1;f[0]=m;for(;c;){var u=f[s],h=u.body;c-=1,s+=1;var l=h!==e;h&&l?(n=h.pos.x-e.pos.x,r=h.pos.y-e.pos.y,0===(a=Math.sqrt(n*n+r*r))&&(n=(y.nextDouble()-.5)/50,r=(y.nextDouble()-.5)/50,a=Math.sqrt(n*n+r*r)),t=b*h.mass*e.mass/(a*a*a),i+=t*n,o+=t*r):l&&(n=u.massX/u.mass-e.pos.x,r=u.massY/u.mass-e.pos.y,0===(a=Math.sqrt(n*n+r*r))&&(n=(y.nextDouble()-.5)/50,r=(y.nextDouble()-.5)/50,a=Math.sqrt(n*n+r*r)),(u.right-u.left)/a<g?(t=b*u.mass*e.mass/(a*a*a),i+=t*n,o+=t*r):(u.quad0&&(f[d]=u.quad0,c+=1,d+=1),u.quad1&&(f[d]=u.quad1,c+=1,d+=1),u.quad2&&(f[d]=u.quad2,c+=1,d+=1),u.quad3&&(f[d]=u.quad3,c+=1,d+=1)))}e.force.x+=i,e.force.y+=o},options:function(e){return e?("number"==typeof e.gravity&&(b=e.gravity),"number"==typeof e.theta&&(g=e.theta),this):{gravity:b,theta:g}}};function _(){var e=r[u];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new t,r[u]=e),++u,e}function h(e){for(x.reset(),x.push(m,e);!x.isEmpty();){var t=x.pop(),n=t.node,r=t.body;if(n.body){var a=n.body;if(n.body=null,v(a.pos,r.pos)){var f=3;do{var i=y.nextDouble(),o=(n.right-n.left)*i,c=(n.bottom-n.top)*i;a.pos.x=n.left+o,a.pos.y=n.top+c,f-=1}while(0<f&&v(a.pos,r.pos));if(0===f&&v(a.pos,r.pos))return}x.push(n,a),x.push(n,r)}else{var s=r.pos.x,d=r.pos.y;n.mass=n.mass+r.mass,n.massX=n.massX+r.mass*s,n.massY=n.massY+r.mass*d;var u=0,h=n.left,l=(n.right+h)/2,b=n.top,p=(n.bottom+b)/2;l<s&&(u+=1,h=l,l=n.right),p<d&&(u+=2,b=p,p=n.bottom);var g=ze(n,u);g?x.push(g,r):((g=_()).left=h,g.top=b,g.right=l,g.bottom=p,g.body=r,qe(n,u,g))}}}};function ze(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function qe(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}var Pe=function(i,o){var c=xe.random(42),s={x1:0,y1:0,x2:0,y2:0};return{box:s,update:function(){var e=i.length;if(0===e)return;var t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE;for(;e--;){var f=i[e];f.isPinned?(f.pos.x=f.prevPos.x,f.pos.y=f.prevPos.y):(f.prevPos.x=f.pos.x,f.prevPos.y=f.pos.y),f.pos.x<t&&(t=f.pos.x),f.pos.x>r&&(r=f.pos.x),f.pos.y<n&&(n=f.pos.y),f.pos.y>a&&(a=f.pos.y)}s.x1=t,s.x2=r,s.y1=n,s.y2=a},reset:function(){s.x1=s.y1=0,s.x2=s.y2=0},getBestNewPosition:function(e){var t=s,n=0,r=0;if(e.length){for(var a=0;a<e.length;++a)n+=e[a].pos.x,r+=e[a].pos.y;n/=e.length,r/=e.length}else n=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2;var f=o.springLength;return{x:n+c.next(f)-f/2,y:r+c.next(f)-f/2}}}},Ee=function(t){var e={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return ge(t=ve(t,{dragCoeff:.02}),e,["dragCoeff"]),e},Ce=function(s){var e=ve,d=xe.random(42),t={update:function(e){var t=e.from,n=e.to,r=e.length<0?s.springLength:e.length,a=n.pos.x-t.pos.x,f=n.pos.y-t.pos.y,i=Math.sqrt(a*a+f*f);0===i&&(a=(d.nextDouble()-.5)/50,f=(d.nextDouble()-.5)/50,i=Math.sqrt(a*a+f*f));var o=i-r,c=(!e.coeff||e.coeff<0?s.springCoeff:e.coeff)*o/i*e.weight;t.force.x+=c*a,t.force.y+=c*f,n.force.x-=c*a,n.force.y-=c*f}};return ge(s=e(s,{springCoeff:2e-4,springLength:80}),t,["springCoeff","springLength"]),t},Ie=function(e,t){var n,r=0,a=0,f=0,i=0,o=e.length;if(0===o)return 0;for(n=0;n<o;++n){var c=e[n],s=t/c.mass;c.velocity.x+=s*c.force.x,c.velocity.y+=s*c.force.y;var d=c.velocity.x,u=c.velocity.y,h=Math.sqrt(d*d+u*u);1<h&&(c.velocity.x=d/h,c.velocity.y=u/h),r=t*c.velocity.x,f=t*c.velocity.y,c.pos.x+=r,c.pos.y+=f,a+=Math.abs(r),i+=Math.abs(f)}return(a*a+i*i)/o};var Le={Body:Re,Vector2d:Be,Body3d:Oe,Vector3d:Se};function Re(e,t){this.pos=new Be(e,t),this.prevPos=new Be(e,t),this.force=new Be,this.velocity=new Be,this.mass=1}function Be(e,t){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0)}function Oe(e,t,n){this.pos=new Se(e,t,n),this.prevPos=new Se(e,t,n),this.force=new Se,this.velocity=new Se,this.mass=1}function Se(e,t,n){e&&"number"!=typeof e?(this.x="number"==typeof e.x?e.x:0,this.y="number"==typeof e.y?e.y:0,this.z="number"==typeof e.z?e.z:0):(this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.z="number"==typeof n?n:0)}Re.prototype.setPosition=function(e,t){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t},Be.prototype.reset=function(){this.x=this.y=0},Oe.prototype.setPosition=function(e,t,n){this.prevPos.x=this.pos.x=e,this.prevPos.y=this.pos.y=t,this.prevPos.z=this.pos.z=n},Se.prototype.reset=function(){this.x=this.y=this.z=0};var De=function(e){return new Le.Body(e)},je=function(t){var i=pe,e=ge,n=ce,r=(t=ve(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20})).createQuadTree||Me,a=t.createBounds||Pe,f=t.createDragForce||Ee,o=t.createSpringForce||Ce,c=t.integrator||Ie,s=t.createBody||De,d=[],u=[],h=r(t),l=a(d,t),b=o(t),p=f(t),g=!0,y={bodies:d,quadTree:h,springs:u,settings:t,step:function(){!function(){var e,t=d.length;if(t)for(h.insertBodies(d);t--;)(e=d[t]).isPinned||(e.force.reset(),h.updateBodyForce(e),p.update(e));t=u.length;for(;t--;)b.update(u[t])}();var e=c(d,t.timeStep);return l.update(),e},addBody:function(e){if(!e)throw new Error("Body is required");return d.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=s(e);return d.push(t),t},removeBody:function(e){if(e){var t=d.indexOf(e);if(!(t<0))return d.splice(t,1),0===d.length&&l.reset(),!0}},addSpring:function(e,t,n,r,a){if(!e||!t)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var f=new i(e,t,n,0<=a?a:-1,r);return u.push(f),f},getTotalMovement:function(){return 0},removeSpring:function(e){if(e){var t=u.indexOf(e);return-1<t?(u.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return l.getBestNewPosition(e)},getBBox:function(){return g&&(l.update(),g=!1),l.box},invalidateBBox:function(){g=!0},gravity:function(e){return void 0!==e?(t.gravity=e,h.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,h.options({theta:e}),this):t.theta}};return e(t,y),n(y),y};var Te=function(e){!function(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}(e);var i,o,t=(i=e,o=Object.create(null),{on:function(e,t,n){if("function"!=typeof t)throw new Error("callback is expected to be a function");var r=o[e];return r||(r=o[e]=[]),r.push({callback:t,ctx:n}),i},off:function(e,t){var n=void 0===e;if(n)return o=Object.create(null),i;if(o[e]){var r="function"!=typeof t;if(r)delete o[e];else for(var a=o[e],f=0;f<a.length;++f)a[f].callback===t&&a.splice(f,1)}return i},fire:function(e){var t,n=o[e];if(!n)return i;1<arguments.length&&(t=Array.prototype.splice.call(arguments,1));for(var r=0;r<n.length;++r){var a=n[r];a.callback.apply(a.ctx,t)}return i}});return e.on=t.on,e.off=t.off,e.fire=t.fire,e};var Fe=function(i,e){if(!i)throw new Error("Graph structure cannot be undefined");var o=je(e),n=function(e){var t=i.getLinks(e);return t?1+t.length/3:1};e&&"function"==typeof e.nodeMass&&(n=e.nodeMass);var c=Object.create(null),a={},f=0,s=o.settings.springTransform||Ve;f=0,i.forEachNode(function(e){r(e.id),f+=1}),i.forEachLink(l),i.on("changed",t);var d=!1,u={step:function(){if(0===f)return!0;var e=o.step();u.lastMove=e,u.fire("step");var t,n=e/f,r=n<=.01;return d!==r&&(t=d=r,u.fire("stable",t)),r},getNodePosition:function(e){return g(e).pos},setNodePosition:function(e){var t=g(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1)),o.invalidateBBox()},getLinkPosition:function(e){var t=a[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return o.getBBox()},forEachBody:function(t){Object.keys(c).forEach(function(e){t(c[e],e)})},pinNode:function(e,t){var n=g(e.id);n.isPinned=!!t},isNodePinned:function(e){return g(e.id).isPinned},dispose:function(){i.off("changed",t),u.fire("disposed")},getBody:function(e){return c[e]},getSpring:function(e,t){var n;if(void 0===t)n="object"!=typeof e?e:e.id;else{var r=i.hasLink(e,t);if(!r)return;n=r.id}return a[n]},simulator:o,graph:i,lastMove:0};return Te(u),u;function t(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&r(n.node.id),n.link&&l(n.link)):"remove"===n.changeType&&(n.node&&h(n.node),n.link&&b(n.link))}f=i.getNodesCount()}function r(e){var t,n=c[e];if(!n){var r=i.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var a=r.position;if(!a){var f=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var a=e.links[r],f=a.fromId!==e.id?c[a.fromId]:c[a.toId];f&&f.pos&&t.push(f)}return t}(r);a=o.getBestNewBodyPosition(f)}(n=o.addBodyAt(a)).id=e,c[e]=n,p(e),(t=r)&&(t.isPinned||t.data&&t.data.isPinned)&&(n.isPinned=!0)}}function h(e){var t=e.id,n=c[t];n&&(c[t]=null,delete c[t],o.removeBody(n))}function l(e){p(e.fromId),p(e.toId);var t=c[e.fromId],n=c[e.toId],r=o.addSpring(t,n,e.length);s(e,r),a[e.id]=r}function b(e){var t=a[e.id];if(t){var n=i.getNode(e.fromId),r=i.getNode(e.toId);n&&p(n.id),r&&p(r.id),delete a[e.id],o.removeSpring(t)}}function p(e){var t=c[e];if(t.mass=n(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function g(e){var t=c[e];return t||(r(e),t=c[e]),t}},Ue=je;function Ve(){}Fe.simulator=Ue;var He=function(e,t,n,r,a){this.from=e,this.to=t,this.length=n,this.coeff=r,this.weight="number"==typeof a?a:1};var Xe=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.mass=0,this.massX=0,this.massY=0,this.left=0,this.top=0,this.bottom=0,this.right=0},Ge=Ye;function Ye(){this.stack=[],this.popIdx=0}function $e(e,t){this.node=e,this.body=t}Ye.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new $e(e,t),++this.popIdx},pop:function(){if(0<this.popIdx)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var Qe=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return n<1e-8&&r<1e-8},We=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var x=xe.random(1984),t=Xe,n=Ge,m=Qe,b=e.gravity,p=[],_=new n,g=e.theta,r=[],u=0,w=function(){var e=r[u];return e?(e.quad0=null,e.quad1=null,e.quad2=null,e.quad3=null,e.body=null,e.mass=e.massX=e.massY=0,e.left=e.right=e.top=e.bottom=0):(e=new t,r[u]=e),++u,e},k=w(),h=function(e){for(_.reset(),_.push(k,e);!_.isEmpty();){var t=_.pop(),n=t.node,r=t.body;if(n.body){var a=n.body;if(n.body=null,m(a.pos,r.pos)){var f=3;do{var i=x.nextDouble(),o=(n.right-n.left)*i,c=(n.bottom-n.top)*i;a.pos.x=n.left+o,a.pos.y=n.top+c,f-=1}while(0<f&&m(a.pos,r.pos));if(0===f&&m(a.pos,r.pos))return}_.push(n,a),_.push(n,r)}else{var s=r.pos.x,d=r.pos.y;n.mass=n.mass+r.mass,n.massX=n.massX+r.mass*s,n.massY=n.massY+r.mass*d;var u=0,h=n.left,l=(n.right+h)/2,b=n.top,p=(n.bottom+b)/2;if(l<s){u+=1;var g=h;l+=(h=l)-g}if(p<d){u+=2;var y=b;p+=(b=p)-y}var v=Ze(n,u);v?_.push(v,r):((v=w()).left=h,v.top=b,v.right=l,v.bottom=p,v.body=r,Je(n,u,v))}}};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,f=Number.MIN_VALUE,i=e.length;for(t=i;t--;){var o=e[t].pos.x,c=e[t].pos.y;o<n&&(n=o),a<o&&(a=o),c<r&&(r=c),f<c&&(f=c)}var s=a-n,d=f-r;for(d<s?f=r+s:a=n+d,u=0,(k=w()).left=n,k.right=a,k.top=r,k.bottom=f,0<(t=i-1)&&(k.body=e[t]);t--;)h(e[t])},updateBodyForce:function(e){var t,n,r,a,f=p,i=0,o=0,c=1,s=0,d=1;for(f[0]=k;c;){var u=f[s],h=u.body;c-=1,s+=1;var l=h!==e;h&&l?(n=h.pos.x-e.pos.x,r=h.pos.y-e.pos.y,0===(a=Math.sqrt(n*n+r*r))&&(n=(x.nextDouble()-.5)/50,r=(x.nextDouble()-.5)/50,a=Math.sqrt(n*n+r*r)),i+=(t=b*h.mass*e.mass/(a*a*a))*n,o+=t*r):l&&(n=u.massX/u.mass-e.pos.x,r=u.massY/u.mass-e.pos.y,0===(a=Math.sqrt(n*n+r*r))&&(n=(x.nextDouble()-.5)/50,r=(x.nextDouble()-.5)/50,a=Math.sqrt(n*n+r*r)),(u.right-u.left)/a<g?(i+=(t=b*u.mass*e.mass/(a*a*a))*n,o+=t*r):(u.quad0&&(f[d]=u.quad0,c+=1,d+=1),u.quad1&&(f[d]=u.quad1,c+=1,d+=1),u.quad2&&(f[d]=u.quad2,c+=1,d+=1),u.quad3&&(f[d]=u.quad3,c+=1,d+=1)))}e.force.x+=i,e.force.y+=o},options:function(e){return e?("number"==typeof e.gravity&&(b=e.gravity),"number"==typeof e.theta&&(g=e.theta),this):{gravity:b,theta:g}}}};function Ze(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:null}function Je(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t&&(e.quad3=n)}var Ke=function(i,o){var c=xe.random(42),s={x1:0,y1:0,x2:0,y2:0};return{box:s,update:function(){var e=i.length;if(0===e)return;var t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MIN_VALUE,a=Number.MIN_VALUE;for(;e--;){var f=i[e];f.isPinned?(f.pos.x=f.prevPos.x,f.pos.y=f.prevPos.y):(f.prevPos.x=f.pos.x,f.prevPos.y=f.pos.y),f.pos.x<t&&(t=f.pos.x),f.pos.x>r&&(r=f.pos.x),f.pos.y<n&&(n=f.pos.y),f.pos.y>a&&(a=f.pos.y)}s.x1=t,s.x2=r,s.y1=n,s.y2=a},reset:function(){s.x1=s.y1=0,s.x2=s.y2=0},getBestNewPosition:function(e){var t=s,n=0,r=0;if(e.length){for(var a=0;a<e.length;++a)n+=e[a].pos.x,r+=e[a].pos.y;n/=e.length,r/=e.length}else n=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2;var f=o.springLength;return{x:n+c.next(f)-f/2,y:r+c.next(f)-f/2}}}},et=function(t){var e={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y}};return ge(t=ve(t,{dragCoeff:.02}),e,["dragCoeff"]),e},tt=function(s){var e=ve,d=xe.random(42),t={update:function(e){var t=e.from,n=e.to,r=e.length<0?s.springLength:e.length,a=n.pos.x-t.pos.x,f=n.pos.y-t.pos.y,i=Math.sqrt(a*a+f*f);0===i&&(a=(d.nextDouble()-.5)/50,f=(d.nextDouble()-.5)/50,i=Math.sqrt(a*a+f*f));var o=i-r,c=(!e.coeff||e.coeff<0?s.springCoeff:e.coeff)*o/i*e.weight;t.force.x+=c*a,t.force.y+=c*f,n.force.x-=c*a,n.force.y-=c*f}};return ge(s=e(s,{springCoeff:2e-4,springLength:80}),t,["springCoeff","springLength"]),t},nt=function(e,t){var n,r=0,a=0,f=0,i=0,o=e.length;if(0===o)return 0;for(n=0;n<o;++n){var c=e[n],s=t/c.mass;c.velocity.x+=s*c.force.x,c.velocity.y+=s*c.force.y;var d=c.velocity.x,u=c.velocity.y,h=Math.sqrt(d*d+u*u);1<h&&(c.velocity.x=d/h,c.velocity.y=u/h),r=t*c.velocity.x,f=t*c.velocity.y,c.pos.x+=r,c.pos.y+=f,a+=Math.abs(r),i+=Math.abs(f)}return(a*a+i*i)/o};var rt=function(e){return new Le.Body(e)},at=function(t){var i=He,e=ge,n=ce,r=(t=ve(t,{springLength:30,springCoeff:8e-4,gravity:-1.2,theta:.8,dragCoeff:.02,timeStep:20,stableThreshold:.009})).createQuadTree||We,a=t.createBounds||Ke,f=t.createDragForce||et,o=t.createSpringForce||tt,c=t.integrator||nt,s=t.createBody||rt,d=[],u=[],h=r(t),l=a(d,t),b=o(t),p=f(t),g=0,y=!1,v={bodies:d,springs:u,settings:t,step:function(){!function(){var e,t=d.length;if(t)for(h.insertBodies(d);t--;)(e=d[t]).isPinned||(e.force.reset(),h.updateBodyForce(e),p.update(e));t=u.length;for(;t--;)b.update(u[t])}(),g=c(d,t.timeStep),l.update();var e=g<t.stableThreshold;return y!==e&&v.fire("stable",e),y=e},addBody:function(e){if(!e)throw new Error("Body is required");return d.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=s(e);return d.push(t),t},removeBody:function(e){if(e){var t=d.indexOf(e);if(!(t<0))return d.splice(t,1),0===d.length&&l.reset(),!0}},addSpring:function(e,t,n,r,a){if(!e||!t)throw new Error("Cannot add null spring to force simulator");"number"!=typeof n&&(n=-1);var f=new i(e,t,n,0<=a?a:-1,r);return u.push(f),f},getTotalMovement:function(){return g},removeSpring:function(e){if(e){var t=u.indexOf(e);return-1<t?(u.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return l.getBestNewPosition(e)},getBBox:function(){return l.box},gravity:function(e){return void 0!==e?(t.gravity=e,h.options({gravity:e}),this):t.gravity},theta:function(e){return void 0!==e?(t.theta=e,h.options({theta:e}),this):t.theta}};return e(t,v),n(v),v};var ft=function(i,e){if(!i)throw new Error("Graph structure cannot be undefined");var o=at(e),c="function"==typeof Object.create?Object.create(null):{},a={},f=o.settings.springTransform||ot;i.forEachNode(function(e){s(e.id)}),i.forEachLink(u),i.on("changed",r),o.on("stable",n);var t={step:function(){return o.step()},getNodePosition:function(e){return b(e).pos},setNodePosition:function(e){var t=b(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=a[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return o.getBBox()},pinNode:function(e,t){var n=b(e.id);n.isPinned=!!t},isNodePinned:function(e){return b(e.id).isPinned},dispose:function(){i.off("changed",r),o.off("stable",n)},getBody:function(e){return c[e]},getSpring:function(e,t){var n;if(void 0===t)n="object"!=typeof e?e:e.id;else{var r=i.hasLink(e,t);if(!r)return;n=r.id}return a[n]},simulator:o};return ce(t),t;function n(e){t.fire("stable",e)}function r(e){for(var t=0;t<e.length;++t){var n=e[t];"add"===n.changeType?(n.node&&s(n.node.id),n.link&&u(n.link)):"remove"===n.changeType&&(n.node&&d(n.node),n.link&&h(n.link))}}function s(e){var t,n=c[e];if(!n){var r=i.getNode(e);if(!r)throw new Error("initBody() was called with unknown node id");var a=r.position;if(!a){var f=function(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var a=e.links[r],f=a.fromId!==e.id?c[a.fromId]:c[a.toId];f&&f.pos&&t.push(f)}return t}(r);a=o.getBestNewBodyPosition(f)}n=o.addBodyAt(a),c[e]=n,l(e),(t=r)&&(t.isPinned||t.data&&t.data.isPinned)&&(n.isPinned=!0)}}function d(e){var t=e.id,n=c[t];n&&(c[t]=null,delete c[t],o.removeBody(n))}function u(e){l(e.fromId),l(e.toId);var t=c[e.fromId],n=c[e.toId],r=o.addSpring(t,n,e.length);f(e,r),a[e.id]=r}function h(e){var t=a[e.id];if(t){var n=i.getNode(e.fromId),r=i.getNode(e.toId);n&&l(n.id),r&&l(r.id),delete a[e.id],o.removeSpring(t)}}function l(e){var t,n,r=c[e];r.mass=(t=e,(n=i.getLinks(t))?1+n.length/3:1)}function b(e){var t=c[e];return t||(s(e),t=c[e]),t}},it=at;function ot(){}ft.simulator=it;var ct=function(){this.body=null,this.quad0=null,this.quad1=null,this.quad2=null,this.quad3=null,this.quad4=null,this.quad5=null,this.quad6=null,this.quad7=null,this.mass=0,this.massX=0,this.massY=0,this.massZ=0,this.left=0,this.top=0,this.bottom=0,this.right=0,this.front=0,this.back=0},st=dt;function dt(){this.stack=[],this.popIdx=0}function ut(e,t){this.node=e,this.body=t}dt.prototype={isEmpty:function(){return 0===this.popIdx},push:function(e,t){var n=this.stack[this.popIdx];n?(n.node=e,n.body=t):this.stack[this.popIdx]=new ut(e,t),++this.popIdx},pop:function(){if(0<this.popIdx)return this.stack[--this.popIdx]},reset:function(){this.popIdx=0}};var ht=function(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y),a=Math.abs(e.z-t.z);return n<1e-8&&r<1e-8&&a<1e-8},lt=function(e){(e=e||{}).gravity="number"==typeof e.gravity?e.gravity:-1,e.theta="number"==typeof e.theta?e.theta:.8;var N=xe.random(1984),t=ct,n=st,A=ht,g=e.gravity,y=[],M=new n,v=e.theta,r=[],b=0,z=function(){var e=r[b];return e?(e.quad0=null,e.quad4=null,e.quad1=null,e.quad5=null,e.quad2=null,e.quad6=null,e.quad3=null,e.quad7=null,e.body=null,e.mass=e.massX=e.massY=e.massZ=0,e.left=e.right=e.top=e.bottom=e.front=e.back=0):(e=new t,r[b]=e),++b,e},q=z(),p=function(e){for(M.reset(),M.push(q,e);!M.isEmpty();){var t=M.pop(),n=t.node,r=t.body;if(n.body){var a=n.body;if(n.body=null,A(a.pos,r.pos)){var f=3;do{var i=N.nextDouble(),o=(n.right-n.left)*i,c=(n.bottom-n.top)*i,s=(n.front-n.back)*i;a.pos.x=n.left+o,a.pos.y=n.top+c,a.pos.z=n.back+s,f-=1}while(0<f&&A(a.pos,r.pos));if(0===f&&A(a.pos,r.pos))return}M.push(n,a),M.push(n,r)}else{var d=r.pos.x,u=r.pos.y,h=r.pos.z;n.mass+=r.mass,n.massX+=r.mass*d,n.massY+=r.mass*u,n.massZ+=r.mass*h;var l=0,b=n.left,p=(n.right+b)/2,g=n.top,y=(n.bottom+g)/2,v=n.back,x=(n.front+v)/2;if(p<d){l+=1;var m=b;p+=(b=p)-m}if(y<u){l+=2;var _=g;y+=(g=y)-_}if(x<h){l+=4;var w=v;x=(v=x)+(v-w)}var k=bt(n,l);k?M.push(k,r):((k=z()).left=b,k.top=g,k.right=p,k.bottom=y,k.back=v,k.front=x,k.body=r,pt(n,l,k))}}};return{insertBodies:function(e){var t,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MAX_VALUE,f=Number.MIN_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,c=e.length;for(t=c;t--;){var s=e[t].pos,d=s.x,u=s.y,h=s.z;d<n&&(n=d),f<d&&(f=d),u<r&&(r=u),i<u&&(i=u),h<a&&(a=h),o<h&&(o=h)}var l=Math.max(f-n,Math.max(i-r,o-a));for(f=n+l,i=r+l,o=a+l,b=0,(q=z()).left=n,q.right=f,q.top=r,q.bottom=i,q.back=a,q.front=o,0<(t=c-1)&&(q.body=e[t]);t--;)p(e[t])},updateBodyForce:function(e){var t,n,r,a,f,i=y,o=0,c=0,s=0,d=1,u=0,h=1;for(i[0]=q;d;){var l=i[u],b=l.body;d-=1,u+=1;var p=b!==e;b&&p?(n=b.pos.x-e.pos.x,r=b.pos.y-e.pos.y,a=b.pos.z-e.pos.z,0===(f=Math.sqrt(n*n+r*r+a*a))&&(n=(N.nextDouble()-.5)/50,r=(N.nextDouble()-.5)/50,a=(N.nextDouble()-.5)/50,f=Math.sqrt(n*n+r*r+a*a)),o+=(t=g*b.mass*e.mass/(f*f*f))*n,c+=t*r,s+=t*a):p&&(n=l.massX/l.mass-e.pos.x,r=l.massY/l.mass-e.pos.y,a=l.massZ/l.mass-e.pos.z,0===(f=Math.sqrt(n*n+r*r+a*a))&&(n=(N.nextDouble()-.5)/50,r=(N.nextDouble()-.5)/50,a=(N.nextDouble()-.5)/50,f=Math.sqrt(n*n+r*r+a*a)),(l.right-l.left)/f<v?(o+=(t=g*l.mass*e.mass/(f*f*f))*n,c+=t*r,s+=t*a):(l.quad0&&(i[h]=l.quad0,d+=1,h+=1),l.quad1&&(i[h]=l.quad1,d+=1,h+=1),l.quad2&&(i[h]=l.quad2,d+=1,h+=1),l.quad3&&(i[h]=l.quad3,d+=1,h+=1),l.quad4&&(i[h]=l.quad4,d+=1,h+=1),l.quad5&&(i[h]=l.quad5,d+=1,h+=1),l.quad6&&(i[h]=l.quad6,d+=1,h+=1),l.quad7&&(i[h]=l.quad7,d+=1,h+=1)))}e.force.x+=o,e.force.y+=c,e.force.z+=s},options:function(e){return e?("number"==typeof e.gravity&&(g=e.gravity),"number"==typeof e.theta&&(v=e.theta),this):{gravity:g,theta:v}}}};function bt(e,t){return 0===t?e.quad0:1===t?e.quad1:2===t?e.quad2:3===t?e.quad3:4===t?e.quad4:5===t?e.quad5:6===t?e.quad6:7===t?e.quad7:null}function pt(e,t,n){0===t?e.quad0=n:1===t?e.quad1=n:2===t?e.quad2=n:3===t?e.quad3=n:4===t?e.quad4=n:5===t?e.quad5=n:6===t?e.quad6=n:7===t&&(e.quad7=n)}var gt=function(c,o){var s=xe.random(42),d={x1:0,y1:0,z1:0,x2:0,y2:0,z2:0};return{box:d,update:function(){var e=c.length;if(0===e)return;var t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=Number.MIN_VALUE,f=Number.MIN_VALUE,i=Number.MIN_VALUE;for(;e--;){var o=c[e];o.isPinned?(o.pos.x=o.prevPos.x,o.pos.y=o.prevPos.y,o.pos.z=o.prevPos.z):(o.prevPos.x=o.pos.x,o.prevPos.y=o.pos.y,o.prevPos.z=o.pos.z),o.pos.x<t&&(t=o.pos.x),o.pos.x>a&&(a=o.pos.x),o.pos.y<n&&(n=o.pos.y),o.pos.y>f&&(f=o.pos.y),o.pos.z<r&&(r=o.pos.z),o.pos.z>i&&(i=o.pos.z)}d.x1=t,d.x2=a,d.y1=n,d.y2=f,d.z1=r,d.z2=i},reset:function(){d.x1=d.y1=0,d.x2=d.y2=0,d.z1=d.z2=0},getBestNewPosition:function(e){var t=d,n=0,r=0,a=0;if(e.length){for(var f=0;f<e.length;++f)n+=e[f].pos.x,r+=e[f].pos.y,a+=e[f].pos.z;n/=e.length,r/=e.length,a/=e.length}else n=(t.x1+t.x2)/2,r=(t.y1+t.y2)/2,a=(t.z1+t.z2)/2;var i=o.springLength;return{x:n+s.next(i)-i/2,y:r+s.next(i)-i/2,z:a+s.next(i)-i/2}}}},yt=function(t){var e={update:function(e){e.force.x-=t.dragCoeff*e.velocity.x,e.force.y-=t.dragCoeff*e.velocity.y,e.force.z-=t.dragCoeff*e.velocity.z}};return ge(t=ve(t,{dragCoeff:.02}),e,["dragCoeff"]),e},vt=function(d){var e=ve,u=xe.random(42),t={update:function(e){var t=e.from,n=e.to,r=e.length<0?d.springLength:e.length,a=n.pos.x-t.pos.x,f=n.pos.y-t.pos.y,i=n.pos.z-t.pos.z,o=Math.sqrt(a*a+f*f+i*i);0===o&&(a=(u.nextDouble()-.5)/50,f=(u.nextDouble()-.5)/50,i=(u.nextDouble()-.5)/50,o=Math.sqrt(a*a+f*f+i*i));var c=o-r,s=(!e.coeff||e.coeff<0?d.springCoeff:e.coeff)*c/o*e.weight;t.force.x+=s*a,t.force.y+=s*f,t.force.z+=s*i,n.force.x-=s*a,n.force.y-=s*f,n.force.z-=s*i}};return ge(d=e(d,{springCoeff:2e-4,springLength:80}),t,["springCoeff","springLength"]),t},xt=function(e){return new Le.Body3d(e)},mt=function(e,t){var n,r=0,a=0,f=0,i=e.length;for(n=0;n<i;++n){var o=e[n],c=t*t/o.mass;o.pos.x=2*o.pos.x-o.prevPos.x+o.force.x*c,o.pos.y=2*o.pos.y-o.prevPos.y+o.force.y*c,o.pos.z=2*o.pos.z-o.prevPos.z+o.force.z*c,r+=Math.abs(o.pos.x-o.prevPos.x),a+=Math.abs(o.pos.y-o.prevPos.y),f+=Math.abs(o.pos.z-o.prevPos.z)}return(r*r+a*a+f*f)/e.length};var _t=function(e,t){var n,r=0,a=0,f=0,i=0,o=0,c=0,s=e.length;for(n=0;n<s;++n){var d=e[n],u=t/d.mass;d.velocity.x+=u*d.force.x,d.velocity.y+=u*d.force.y,d.velocity.z+=u*d.force.z;var h=d.velocity.x,l=d.velocity.y,b=d.velocity.z,p=Math.sqrt(h*h+l*l+b*b);1<p&&(d.velocity.x=h/p,d.velocity.y=l/p,d.velocity.z=b/p),r=t*d.velocity.x,f=t*d.velocity.y,o=t*d.velocity.z,d.pos.x+=r,d.pos.y+=f,d.pos.z+=o,a+=Math.abs(r),i+=Math.abs(f),c+=Math.abs(o)}return(a*a+i*i+c*c)/e.length};var wt=kt;function kt(e,t){return t=ve(t,{createQuadTree:lt,createBounds:gt,createDragForce:yt,createSpringForce:vt,integrator:function(e){if(e&&"verlet"===e.integrator)return mt;return _t}(t),createBody:xt}),kt.get2dLayout(e,t)}kt.get2dLayout=ft;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Nt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function At(e,t){return e(t={exports:{}},t.exports),t.exports}var Mt=At(function(e,t){"undefined"!=typeof self&&self,e.exports=function(n){var r={};function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,n){var r,a,f,i;i=function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.stateInit,r=void 0===t?function(){return{}}:t,n=e.props,a=void 0===n?{}:n,f=e.methods,o=void 0===f?{}:f,i=e.aliases,c=void 0===i?{}:i,s=e.init,d=void 0===s?function(){}:s,u=e.update,h=void 0===u?function(){}:u,l=Object.keys(a).map(function(e){return new g(e,a[e])});return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=Object.assign({},r instanceof Function?r():r,{initialised:!1});function i(e){return n(e,t),a(),i}var n=function(e,t){d.call(i,e,f,t),f.initialised=!0},a=(0,b.default)(function(){f.initialised&&h.call(i,f)},1);return l.forEach(function(e){i[e.name]=function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,t){};return function(e){return arguments.length?(f[t]=e,r.call(i,e,f),n&&a(),i):f[t]}}(e.name,e.triggerUpdate,e.onChange)}),Object.keys(o).forEach(function(a){i[a]=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o[a]).call.apply(e,[i,f].concat(n))}}),Object.entries(c).forEach(function(e){var t=p(e,2),n=t[0],r=t[1];return i[n]=i[r]}),i.resetProps=function(){return l.forEach(function(e){i[e.name](e.defaultVal)}),i},i.resetProps(),f._rerender=a,i}};var r,b=(r=n)&&r.__esModule?r:{default:r},p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,f=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,f=e}finally{try{!r&&o.return&&o.return()}finally{if(a)throw f}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function e(t,n){var r=n.default,a=void 0===r?null:r,f=n.triggerUpdate,i=void 0===f||f,o=n.onChange,c=void 0===o?function(e,t){}:o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.defaultVal=a,this.triggerUpdate=i,this.onChange=c};e.exports=t.default},a=[e,t,n(1)],void 0===(f="function"==typeof(r=i)?r.apply(t,a):r)||(e.exports=f)},function(e,t){e.exports=function(t,n,r){var a,f,i,o,c;function s(){var e=Date.now()-o;e<n&&0<=e?a=setTimeout(s,n-e):(a=null,r||(c=t.apply(i,f),i=f=null))}null==n&&(n=100);var e=function(){i=this,f=arguments,o=Date.now();var e=r&&!a;return a||(a=setTimeout(s,n)),e&&(c=t.apply(i,f),i=f=null),c};return e.clear=function(){a&&(clearTimeout(a),a=null)},e.flush=function(){a&&(c=t.apply(i,f),i=f=null,clearTimeout(a),a=null)},e}}])}),zt=Nt(Mt),qt=(Mt.Kapsule,At(function(e,t){e.exports=function(n){function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var a={};return r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,n){var r,a,f;a=[e,t],void 0!==(f="function"==typeof(r=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return t instanceof Function?t:"string"==typeof t?function(e){return e[t]}:function(e){return t}},e.exports=t.default})?r.apply(t,a):r)&&(e.exports=f)}])})),Pt=Nt(qt);qt.accessorFn;function Et(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}Et("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Et("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Et("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Ct=Et("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function It(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Lt(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Rt(){}Et("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Et("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Et("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Et("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Et("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Bt=1/.7,Ot="\\s*([+-]?\\d+)\\s*",St="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Dt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jt=/^#([0-9a-f]{3})$/,Tt=/^#([0-9a-f]{6})$/,Ft=new RegExp("^rgb\\("+[Ot,Ot,Ot]+"\\)$"),Ut=new RegExp("^rgb\\("+[Dt,Dt,Dt]+"\\)$"),Vt=new RegExp("^rgba\\("+[Ot,Ot,Ot,St]+"\\)$"),Ht=new RegExp("^rgba\\("+[Dt,Dt,Dt,St]+"\\)$"),Xt=new RegExp("^hsl\\("+[St,Dt,Dt]+"\\)$"),Gt=new RegExp("^hsla\\("+[St,Dt,Dt,St]+"\\)$"),Yt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $t(e){var t;return e=(e+"").trim().toLowerCase(),(t=jt.exec(e))?new Kt((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Tt.exec(e))?Qt(parseInt(t[1],16)):(t=Ft.exec(e))?new Kt(t[1],t[2],t[3],1):(t=Ut.exec(e))?new Kt(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Vt.exec(e))?Wt(t[1],t[2],t[3],t[4]):(t=Ht.exec(e))?Wt(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Xt.exec(e))?en(t[1],t[2]/100,t[3]/100,1):(t=Gt.exec(e))?en(t[1],t[2]/100,t[3]/100,t[4]):Yt.hasOwnProperty(e)?Qt(Yt[e]):"transparent"===e?new Kt(NaN,NaN,NaN,0):null}function Qt(e){return new Kt(e>>16&255,e>>8&255,255&e,1)}function Wt(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kt(e,t,n,r)}function Zt(e){return e instanceof Rt||(e=$t(e)),e?new Kt((e=e.rgb()).r,e.g,e.b,e.opacity):new Kt}function Jt(e,t,n,r){return 1===arguments.length?Zt(e):new Kt(e,t,n,null==r?1:r)}function Kt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function en(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||1<=n?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,n,r)}function tn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function nn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}It(Rt,$t,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),It(Kt,Jt,Lt(Rt,{brighter:function(e){return e=null==e?Bt:Math.pow(Bt,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),It(tn,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof Rt||(e=$t(e)),!e)return new tn;if(e instanceof tn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),f=Math.max(t,n,r),i=NaN,o=f-a,c=(f+a)/2;return o?(i=t===f?(n-r)/o+6*(n<r):n===f?(r-t)/o+2:(t-n)/o+4,o/=c<.5?f+a:2-f-a,i*=60):o=0<c&&c<1?0:i,new tn(i,o,c,e.opacity)}(e):new tn(e,t,n,null==r?1:r)},Lt(Rt,{brighter:function(e){return e=null==e?Bt:Math.pow(Bt,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Kt(nn(240<=e?e-240:e+120,a,r),nn(e,a,r),nn(e<120?e+240:e-120,a,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var rn=Math.PI/180,an=180/Math.PI,fn=.95047,on=1,cn=1.08883,sn=4/29,dn=6/29,un=3*dn*dn,hn=dn*dn*dn;function ln(e){if(e instanceof bn)return new bn(e.l,e.a,e.b,e.opacity);if(e instanceof xn){var t=e.h*rn;return new bn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof Kt||(e=Zt(e));var n=vn(e.r),r=vn(e.g),a=vn(e.b),f=pn((.4124564*n+.3575761*r+.1804375*a)/fn),i=pn((.2126729*n+.7151522*r+.072175*a)/on);return new bn(116*i-16,500*(f-i),200*(i-pn((.0193339*n+.119192*r+.9503041*a)/cn)),e.opacity)}function bn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function pn(e){return hn<e?Math.pow(e,1/3):e/un+sn}function gn(e){return dn<e?e*e*e:un*(e-sn)}function yn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function vn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function xn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}It(bn,function(e,t,n,r){return 1===arguments.length?ln(e):new bn(e,t,n,null==r?1:r)},Lt(Rt,{brighter:function(e){return new bn(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new bn(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=on*gn(e),new Kt(yn(3.2404542*(t=fn*gn(t))-1.5371385*e-.4985314*(n=cn*gn(n))),yn(-.969266*t+1.8760108*e+.041556*n),yn(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),It(xn,function(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof xn)return new xn(e.h,e.c,e.l,e.opacity);e instanceof bn||(e=ln(e));var t=Math.atan2(e.b,e.a)*an;return new xn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new xn(e,t,n,null==r?1:r)},Lt(Rt,{brighter:function(e){return new xn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new xn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return ln(this).rgb()}}));var mn=1.78277,_n=-.29227,wn=-.90649,kn=1.97294,Nn=kn*wn,An=kn*mn,Mn=mn*_n- -.14861*wn;function zn(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);e instanceof Kt||(e=Zt(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(Mn*r+Nn*t-An*n)/(Mn+Nn-An),f=r-a,i=(kn*(n-a)-_n*f)/wn,o=Math.sqrt(i*i+f*f)/(kn*a*(1-a)),c=o?Math.atan2(i,f)*an-120:NaN;return new qn(c<0?c+360:c,o,a,e.opacity)}(e):new qn(e,t,n,null==r?1:r)}function qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Pn(e){return function(){return e}}function En(t,n){return function(e){return t+e*n}}function Cn(e,t){var n=t-e;return n?En(e,n):Pn(isNaN(e)?t:e)}It(qn,zn,Lt(Rt,{brighter:function(e){return e=null==e?Bt:Math.pow(Bt,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*rn,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new Kt(255*(t+n*(-.14861*r+mn*a)),255*(t+n*(_n*r+wn*a)),255*(t+n*(kn*r)),this.opacity)}}));var In,Ln=(In=function(s){var d=s.length-1;return function(e){var t,n,r,a=e<=0?e=0:1<=e?d-(e=1):Math.floor(e*d),f=s[a],i=s[a+1],o=0<a?s[a-1]:2*f-i,c=a<d-1?s[a+2]:2*i-f;return((1-3*(t=(e-a/d)*d)+3*(n=t*t)-(r=n*t))*o+(4-6*n+3*r)*f+(1+3*t+3*n-3*r)*i+r*c)/6}},function(e){var t,n,r=e.length,a=new Array(r),f=new Array(r),i=new Array(r);for(t=0;t<r;++t)n=Jt(e[t]),a[t]=n.r||0,f[t]=n.g||0,i[t]=n.b||0;return a=In(a),f=In(f),i=In(i),n.opacity=1,function(e){return n.r=a(e),n.g=f(e),n.b=i(e),n+""}});Math.PI,Math.SQRT2;function Rn(o){return function e(i){function t(t,e){var n=o((t=zn(t)).h,(e=zn(e)).h),r=Cn(t.s,e.s),a=Cn(t.l,e.l),f=Cn(t.opacity,e.opacity);return function(e){return t.h=n(e),t.s=r(e),t.l=a(Math.pow(e,i)),t.opacity=f(e),t+""}}return i=+i,t.gamma=e,t}(1)}Rn(function(e,t){var n=t-e;return n?En(e,180<n||n<-180?n-360*Math.round(n/360):n):Pn(isNaN(e)?t:e)});var Bn=Rn(Cn);function On(e){return Ln(e[e.length-1])}On(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Et)),On(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Et)),On(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Et)),On(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Et)),On(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Et)),On(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Et)),On(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Et)),On(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Et)),On(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Et)),On(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Et)),On(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Et)),On(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Et)),On(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Et)),On(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Et)),On(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Et)),On(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Et)),On(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Et)),On(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Et)),On(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Et)),On(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Et)),On(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Et)),On(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Et)),On(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Et)),On(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Et)),On(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Et)),On(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Et)),On(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Et)),Bn(zn(300,.5,0),zn(-240,.5,1));Bn(zn(-100,.75,.35),zn(80,1.5,.8)),Bn(zn(260,.75,.35),zn(80,1.5,.8)),zn();function Sn(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}Sn(Et("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Sn(Et("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Sn(Et("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Sn(Et("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));var Dn=At(function(F){!function(u){var h=/^\s+/,l=/\s+$/,r=0,i=u.round,b=u.min,p=u.max,e=u.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,f=null,i=!1,o=!1;"string"==typeof e&&(e=function(e){e=e.replace(h,"").replace(l,"").toLowerCase();var t,n=!1;if(M[e])e=M[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=j.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=j.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=j.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=j.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=j.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=j.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=j.hex8.exec(e))return{r:C(t[1]),g:C(t[2]),b:C(t[3]),a:B(t[4]),format:n?"name":"hex8"};if(t=j.hex6.exec(e))return{r:C(t[1]),g:C(t[2]),b:C(t[3]),format:n?"name":"hex"};if(t=j.hex4.exec(e))return{r:C(t[1]+""+t[1]),g:C(t[2]+""+t[2]),b:C(t[3]+""+t[3]),a:B(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=j.hex3.exec(e))return{r:C(t[1]+""+t[1]),g:C(t[2]+""+t[2]),b:C(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==typeof e&&(T(e.r)&&T(e.g)&&T(e.b)?(c=e.r,s=e.g,d=e.b,t={r:255*P(c,255),g:255*P(s,255),b:255*P(d,255)},i=!0,o="%"===String(e.r).substr(-1)?"prgb":"rgb"):T(e.h)&&T(e.s)&&T(e.v)?(r=L(e.s),a=L(e.v),t=function(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=u.floor(e),a=e-r,f=n*(1-t),i=n*(1-a*t),o=n*(1-(1-a)*t),c=r%6;return{r:255*[n,i,f,f,o,n][c],g:255*[o,n,n,i,f,f][c],b:255*[f,f,o,n,n,i][c]}}(e.h,r,a),i=!0,o="hsv"):T(e.h)&&T(e.s)&&T(e.l)&&(r=L(e.s),f=L(e.l),t=function(e,t,n){var r,a,f;function i(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=P(e,360),t=P(t,100),n=P(n,100),0===t)r=a=f=n;else{var o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;r=i(c,o,e+1/3),a=i(c,o,e),f=i(c,o,e-1/3)}return{r:255*r,g:255*a,b:255*f}}(e.h,r,f),i=!0,o="hsl"),e.hasOwnProperty("a")&&(n=e.a));var c,s,d;return n=q(n),{ok:i,format:e.format||o,r:b(255,p(t.r,0)),g:b(255,p(t.g,0)),b:b(255,p(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=i(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=n.ok,this._tc_id=r++}function a(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,a,f=p(e,t,n),i=b(e,t,n),o=(f+i)/2;if(f==i)r=a=0;else{var c=f-i;switch(a=.5<o?c/(2-f-i):c/(f+i),f){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,l:o}}function f(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,a,f=p(e,t,n),i=b(e,t,n),o=f,c=f-i;if(a=0===f?0:c/f,f==i)r=0;else{switch(f){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:a,v:o}}function t(e,t,n,r){var a=[I(i(e).toString(16)),I(i(t).toString(16)),I(i(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function o(e,t,n,r){return[I(R(r)),I(i(e).toString(16)),I(i(t).toString(16)),I(i(n).toString(16))].join("")}function n(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=E(n.s),d(n)}function c(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=E(n.s),d(n)}function s(e){return d(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=E(n.l),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=p(0,b(255,n.r-i(-t/100*255))),n.g=p(0,b(255,n.g-i(-t/100*255))),n.b=p(0,b(255,n.b-i(-t/100*255))),d(n)}function v(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=E(n.l),d(n)}function x(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function m(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function _(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function k(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function N(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),a=360/n,f=[d(e)];for(r.h=(r.h-(a*t>>1)+720)%360;--t;)r.h=(r.h+a)%360,f.push(d(r));return f}function A(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,a=n.s,f=n.v,i=[],o=1/t;t--;)i.push(d({h:r,s:a,v:f})),f=(f+o)%1;return i}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:u.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:u.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:u.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=q(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a(this._r,this._g,this._b),t=i(360*e.h),n=i(100*e.s),r=i(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,a){var f=[I(i(e).toString(16)),I(i(t).toString(16)),I(i(n).toString(16)),I(R(r))];if(a&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1))return f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0);return f.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*P(this._r,255))+"%",g:i(100*P(this._g,255))+"%",b:i(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*P(this._r,255))+"%, "+i(100*P(this._g,255))+"%, "+i(100*P(this._b,255))+"%)":"rgba("+i(100*P(this._r,255))+"%, "+i(100*P(this._g,255))+"%, "+i(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(z[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+o(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var a=d(e);n="#"+o(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&0<=this._a;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(n,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(s,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(N,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:L(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:e(),g:e(),b:e()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),a=d(t).toRgb(),f=n/100;return d({r:(a.r-r.r)*f+r.r,g:(a.g-r.g)*f+r.g,b:(a.b-r.b)*f+r.b,a:(a.a-r.a)*f+r.a})},
// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)
// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)
d.readability=function(e,t){var n=d(e),r=d(t);return(u.max(n.getLuminance(),r.getLuminance())+.05)/(u.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,a,f=d.readability(e,t);switch(a=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":a=4.5<=f;break;case"AAlarge":a=3<=f;break;case"AAAsmall":a=7<=f}return a},d.mostReadable=function(e,t,n){var r,a,f,i,o=null,c=0;a=(n=n||{}).includeFallbackColors,f=n.level,i=n.size;for(var s=0;s<t.length;s++)c<(r=d.readability(e,t[s]))&&(c=r,o=d(t[s]));return d.isReadable(e,o,{level:f,size:i})||!a?o:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var M=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},z=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(M);function q(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function P(e,t){var n;"string"==typeof(n=e)&&-1!=n.indexOf(".")&&1===parseFloat(n)&&(e="100%");var r,a="string"==typeof(r=e)&&-1!=r.indexOf("%");return e=b(t,p(0,parseFloat(e))),a&&(e=parseInt(e*t,10)/100),u.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return b(1,p(0,e))}function C(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function R(e){return u.round(255*parseFloat(e)).toString(16)}function B(e){return C(e)/255}var O,S,D,j=(S="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",D="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+S),rgba:new RegExp("rgba"+D),hsl:new RegExp("hsl"+S),hsla:new RegExp("hsla"+D),hsv:new RegExp("hsv"+S),hsva:new RegExp("hsva"+D),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function T(e){return!!j.CSS_UNIT.exec(e)}F.exports?F.exports=d:window.tinycolor=d}(Math)}),jn=function(e){return isNaN(e)?parseInt(Dn(e).toHex(),16):e},Tn=function(e){return isNaN(e)?Dn(e).getAlpha():1};function Fn(e,t,n){if(t&&"string"==typeof n){var r=Ct,a=e.filter(function(e){return!e[n]}),f={};a.forEach(function(e){f[t(e)]=null}),Object.keys(f).forEach(function(e,t){f[e]=t}),a.forEach(function(e){e[n]=r[f[t(e)]%r.length]})}}var Un=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},Vn=window.THREE?window.THREE:{Mesh:e.Mesh,MeshLambertMaterial:e.MeshLambertMaterial,BufferGeometry:e.BufferGeometry,BufferAttribute:e.BufferAttribute,Matrix4:e.Matrix4,Vector3:e.Vector3,SphereGeometry:e.SphereGeometry,CylinderGeometry:e.CylinderGeometry,Line:e.Line,LineBasicMaterial:e.LineBasicMaterial,QuadraticBezierCurve3:e.QuadraticBezierCurve3,CubicBezierCurve3:e.CubicBezierCurve3},Hn={graph:se,forcelayout:Fe,forcelayout3d:wt};return function(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],e=function(e){function f(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=f.__proto__||Object.getPrototypeOf(f)).call.apply(e,[this].concat(n)));return a.__kapsuleInstance=i().apply(void 0,[].concat(Un(o?[a]:[]),n)),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,t),f}();return Object.keys(i()).forEach(function(n){return e.prototype[n]=function(){var e,t=(e=this.__kapsuleInstance)[n].apply(e,arguments);return t===this.__kapsuleInstance?this:t}}),e}(zt({props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then(function(e){return e.json()}).then(function(e){t.fetchingJson=!1,n.graphData(e)}))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){(e.nodes.length||e.links.length)&&console.info("force-graph loading",e.nodes.length+" nodes",e.links.length+" links"),t.engineRunning=!1,t.sceneNeedsRepopulating=!0,t.simulationNeedsReheating=!0}},numDimensions:{default:3,onChange:function(e,t){t.simulationNeedsReheating=!0;var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach(function(e){delete e[t],delete e["v"+t]})}n&&n.strength(2<e?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},nodeRelSize:{default:4,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeId:{default:"id",onChange:function(e,t){t.simulationNeedsReheating=!0}},nodeVal:{default:"val",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeResolution:{default:8,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeColor:{default:"color",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeAutoColorBy:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeOpacity:{default:.75,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},nodeThreeObject:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkSource:{default:"source",onChange:function(e,t){t.simulationNeedsReheating=!0}},linkTarget:{default:"target",onChange:function(e,t){t.simulationNeedsReheating=!0}},linkColor:{default:"color",onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkAutoColorBy:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkOpacity:{default:.2,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkWidth:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkResolution:{default:6,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticles:{default:0,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleColor:{onChange:function(e,t){t.sceneNeedsRepopulating=!0}},linkDirectionalParticleResolution:{default:4,onChange:function(e,t){t.sceneNeedsRepopulating=!0}},forceEngine:{default:"d3",onChange:function(e,t){t.simulationNeedsReheating=!0}},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1}},aliases:{autoColorBy:"nodeAutoColorBy"},methods:{d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},_updateScene:function(e){},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(N){var o,A="ngraph"!==N.forceEngine;return N.engineRunning&&function(){++N.cntTicks>N.cooldownTicks||new Date-N.startTickTime>N.cooldownTime?N.engineRunning=!1:N.layout[A?"tick":"step"]();N.graphData.nodes.forEach(function(e){var t=e.__threeObj;if(t){var n=A?e:N.layout.getNodePosition(e[N.nodeId]);t.position.x=n.x,t.position.y=n.y||0,t.position.z=n.z||0}});var w=Pt(N.linkCurvature),k=Pt(N.linkCurveRotation);N.graphData.links.forEach(function(e){var t=e.__lineObj;if(t){var n=A?e:N.layout.getLinkPosition(N.layout.graph.getLink(e.source,e.target).id),r=n[A?"source":"from"],a=n[A?"target":"to"];if(r.hasOwnProperty("x")&&a.hasOwnProperty("x"))if(e.__curve=null,"Line"===t.type){var f=w(e);if(f){var i=new Vn.Vector3(r.x,r.y||0,r.z||0),o=new Vn.Vector3(a.x,a.y||0,a.z||0),c=i.distanceTo(o),s=void 0,d=k(e);if(0<c){var u=a.x-r.x,h=a.y-r.y||0,l=(new Vn.Vector3).subVectors(o,i),b=l.clone().multiplyScalar(f).cross(0!==u||0!==h?new Vn.Vector3(0,0,1):new Vn.Vector3(0,1,0)).applyAxisAngle(l.normalize(),d).add((new Vn.Vector3).addVectors(i,o).divideScalar(2));s=new Vn.QuadraticBezierCurve3(i,b,o)}else{var p=70*f,g=-d,y=g+Math.PI/2;s=new Vn.CubicBezierCurve3(i,new Vn.Vector3(p*Math.cos(y),p*Math.sin(y),0).add(i),new Vn.Vector3(p*Math.cos(g),p*Math.sin(g),0).add(i),o)}t.geometry.setFromPoints(s.getPoints(30)),e.__curve=s}else{var v=t.geometry.getAttribute("position");v&&v.array&&6===v.array.length||t.geometry.addAttribute("position",v=new Vn.BufferAttribute(new Float32Array(6),3)),v.array[0]=r.x,v.array[1]=r.y||0,v.array[2]=r.z||0,v.array[3]=a.x,v.array[4]=a.y||0,v.array[5]=a.z||0,v.needsUpdate=!0}t.geometry.computeBoundingSphere()}else{var x=new Vn.Vector3(r.x,r.y||0,r.z||0),m=new Vn.Vector3(a.x,a.y||0,a.z||0),_=x.distanceTo(m);t.position.x=x.x,t.position.y=x.y,t.position.z=x.z,t.lookAt(m),t.scale.z=_}}})}(),o=Pt(N.linkDirectionalParticleSpeed),N.graphData.links.forEach(function(t){var a=t.__photonObjs;if(a&&a.length){var e=A?t:N.layout.getLinkPosition(N.layout.graph.getLink(t.source,t.target).id),n=e[A?"source":"from"],r=e[A?"target":"to"];if(n.hasOwnProperty("x")&&r.hasOwnProperty("x")){var f=o(t),i=t.__curve?function(e){return t.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",n,r,e),y:t("y",n,r,e),z:t("z",n,r,e)}};a.forEach(function(t,e){var n=t.__progressRatio=((t.__progressRatio||e/a.length)+f)%1,r=i(n);["x","y","z"].forEach(function(e){return t.position[e]=r[e]})})}}}),this}},stateInit:function(){return{d3ForceLayout:function(l,e){e=e||2;var n,b=Math.min(3,Math.max(1,Math.round(e))),r=1,t=.001,a=1-Math.pow(t,1/300),f=0,i=.6,o=q(),c=K(d),s=B("tick","end");function d(){u(),s.call("tick",n),r<t&&(c.stop(),s.call("end",n))}function u(){var e,t,n=l.length;for(r+=(f-r)*a,o.each(function(e){e(r)}),e=0;e<n;++e)null==(t=l[e]).fx?t.x+=t.vx*=i:(t.x=t.fx,t.vx=0),1<b&&(null==t.fy?t.y+=t.vy*=i:(t.y=t.fy,t.vy=0)),2<b&&(null==t.fz?t.z+=t.vz*=i:(t.z=t.fz,t.vz=0))}function h(){for(var e,t=0,n=l.length;t<n;++t){if((e=l[t]).index=t,isNaN(e.x)||1<b&&isNaN(e.y)||2<b&&isNaN(e.z)){var r=10*(2<b?Math.cbrt(t):1<b?Math.sqrt(t):t),a=t*ie,f=t*oe;e.x=r*(1<b?Math.cos(a):1),1<b&&(e.y=r*Math.sin(a)),2<b&&(e.z=r*Math.sin(f))}(isNaN(e.vx)||1<b&&isNaN(e.vy)||2<b&&isNaN(e.vz))&&(e.vx=0,1<b&&(e.vy=0),2<b&&(e.vz=0))}}function p(e){return e.initialize&&e.initialize(l,b),e}return null==l&&(l=[]),h(),n={tick:u,restart:function(){return c.restart(d),n},stop:function(){return c.stop(),n},numDimensions:function(e){return arguments.length?(b=Math.min(3,Math.max(1,Math.round(e))),o.each(p),n):b},nodes:function(e){return arguments.length?(l=e,h(),o.each(p),n):l},alpha:function(e){return arguments.length?(r=+e,n):r},alphaMin:function(e){return arguments.length?(t=+e,n):t},alphaDecay:function(e){return arguments.length?(a=+e,n):+a},alphaTarget:function(e){return arguments.length?(f=+e,n):f},velocityDecay:function(e){return arguments.length?(i=1-e,n):1-i},force:function(e,t){return 1<arguments.length?(null==t?o.remove(e):o.set(e,p(t)),n):o.get(e)},find:function(){var e,t,n,r,a,f,i=Array.prototype.slice.call(arguments),o=i.shift()||0,c=(1<b?i.shift():null)||0,s=(2<b?i.shift():null)||0,d=i.shift()||1/0,u=0,h=l.length;for(d*=d,u=0;u<h;++u)(r=(e=o-(a=l[u]).x)*e+(t=c-(a.y||0))*t+(n=s-(a.z||0))*n)<d&&(f=a,d=r);return f},on:function(e,t){return 1<arguments.length?(s.on(e,t),n):s.on(e)}}}().force("link",function(h){var l,b,f,p,i,g,o=I,n=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},r=d(30),y=1;function t(e){for(var t=0,n=h.length;t<y;++t)for(var r,a,f,i,o,c=0,s=0,d=0,u=0;c<n;++c)a=(r=h[c]).source,s=(f=r.target).x+f.vx-a.x-a.vx||v(),1<p&&(d=f.y+f.vy-a.y-a.vy||v()),2<p&&(u=f.z+f.vz-a.z-a.vz||v()),s*=i=((i=Math.sqrt(s*s+d*d+u*u))-b[c])/i*e*l[c],d*=i,u*=i,f.vx-=s*(o=g[c]),1<p&&(f.vy-=d*o),2<p&&(f.vz-=u*o),a.vx+=s*(o=1-o),1<p&&(a.vy+=d*o),2<p&&(a.vz+=u*o)}function a(){if(f){var e,t,n=f.length,r=h.length,a=q(f,o);for(e=0,i=new Array(n);e<r;++e)(t=h[e]).index=e,"object"!=typeof t.source&&(t.source=L(a,t.source)),"object"!=typeof t.target&&(t.target=L(a,t.target)),i[t.source.index]=(i[t.source.index]||0)+1,i[t.target.index]=(i[t.target.index]||0)+1;for(e=0,g=new Array(r);e<r;++e)t=h[e],g[e]=i[t.source.index]/(i[t.source.index]+i[t.target.index]);l=new Array(r),c(),b=new Array(r),s()}}function c(){if(f)for(var e=0,t=h.length;e<t;++e)l[e]=+n(h[e],e,h)}function s(){if(f)for(var e=0,t=h.length;e<t;++e)b[e]=+r(h[e],e,h)}return null==h&&(h=[]),t.initialize=function(e,t){f=e,p=t,a()},t.links=function(e){return arguments.length?(h=e,a(),t):h},t.id=function(e){return arguments.length?(o=e,t):o},t.iterations=function(e){return arguments.length?(y=+e,t):y},t.strength=function(e){return arguments.length?(n="function"==typeof e?e:d(+e),c(),t):n},t.distance=function(e){return arguments.length?(r="function"==typeof e?e:d(+e),s(),t):r},t}()).force("charge",function(){var a,u,h,l,b,r=d(-30),p=1,g=1/0,y=.81;function t(e){var t,n=a.length,r=(1===u?c(a,re):2===u?x(a,re,ae):3===u?_(a,re,ae,fe):null).visitAfter(f);for(l=e,t=0;t<n;++t)h=a[t],r.visit(i)}function n(){if(a){var e,t,n=a.length;for(b=new Array(n),e=0;e<n;++e)t=a[e],b[t.index]=+r(t,e,a)}}function f(e){var t,n,r,a,f,i,o=0,c=0;if(e.length){for(r=a=f=i=0;i<4;++i)(t=e[i])&&(n=Math.abs(t.value))&&(o+=t.value,c+=n,r+=n*(t.x||0),a+=n*(t.y||0),f+=n*(t.z||0));e.x=r/c,1<u&&(e.y=a/c),2<u&&(e.z=f/c)}else for((t=e).x=t.data.x,1<u&&(t.y=t.data.y),2<u&&(t.z=t.data.z);o+=b[t.data.index],t=t.next;);e.value=o}function i(e,t,n,r,a){if(!e.value)return!0;var f=[n,r,a][u-1],i=e.x-h.x,o=1<u?e.y-h.y:0,c=2<u?e.z-h.z:0,s=f-t,d=i*i+o*o+c*c;if(s*s/y<d)return d<g&&(0===i&&(d+=(i=v())*i),1<u&&0===o&&(d+=(o=v())*o),2<u&&0===c&&(d+=(c=v())*c),d<p&&(d=Math.sqrt(p*d)),h.vx+=i*e.value*l/d,1<u&&(h.vy+=o*e.value*l/d),2<u&&(h.vz+=c*e.value*l/d)),!0;if(!(e.length||g<=d))for((e.data!==h||e.next)&&(0===i&&(d+=(i=v())*i),1<u&&0===o&&(d+=(o=v())*o),2<u&&0===c&&(d+=(c=v())*c),d<p&&(d=Math.sqrt(p*d)));e.data!==h&&(s=b[e.data.index]*l/d,h.vx+=i*s,1<u&&(h.vy+=o*s),2<u&&(h.vz+=c*s)),e=e.next;);}return t.initialize=function(e,t){a=e,u=t,n()},t.strength=function(e){return arguments.length?(r="function"==typeof e?e:d(+e),n(),t):r},t.distanceMin=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.distanceMax=function(e){return arguments.length?(g=e*e,t):Math.sqrt(g)},t.theta=function(e){return arguments.length?(y=e*e,t):Math.sqrt(y)},t}()).force("center",function(i,o,c){var s;function t(){var e,t,n=s.length,r=0,a=0,f=0;for(e=0;e<n;++e)r+=(t=s[e]).x||0,a+=t.y||0,f+=t.z||0;for(r=r/n-i,a=a/n-o,f=f/n-c,e=0;e<n;++e)t=s[e],r&&(t.x-=r),a&&(t.y-=a),f&&(t.z-=f)}return null==i&&(i=0),null==o&&(o=0),null==c&&(c=0),t.initialize=function(e){s=e},t.x=function(e){return arguments.length?(i=+e,t):i},t.y=function(e){return arguments.length?(o=+e,t):o},t.z=function(e){return arguments.length?(c=+e,t):c},t}()).stop(),engineRunning:!1,sceneNeedsRepopulating:!0,simulationNeedsReheating:!0}},init:function(e,t){t.graphScene=e},update:function(p){if(p.engineRunning=!1,p.sceneNeedsRepopulating){p.sceneNeedsRepopulating=!1,null!==p.nodeAutoColorBy&&Fn(p.graphData.nodes,Pt(p.nodeAutoColorBy),p.nodeColor),null!==p.linkAutoColorBy&&Fn(p.graphData.links,Pt(p.linkAutoColorBy),p.linkColor);for(var e=function e(t){t.geometry&&t.geometry.dispose(),t.material&&t.material.dispose(),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)};p.graphScene.children.length;){var t=p.graphScene.children[0];p.graphScene.remove(t),e(t)}var f=Pt(p.nodeThreeObject),i=Pt(p.nodeVal),o=Pt(p.nodeColor),c={},s={};p.graphData.nodes.forEach(function(e){var t=f(e),n=void 0;if(t)n=t,p.nodeThreeObject===n&&(n=n.clone());else{var r=i(e)||1;c.hasOwnProperty(r)||(c[r]=new Vn.SphereGeometry(Math.cbrt(r)*p.nodeRelSize,p.nodeResolution,p.nodeResolution));var a=o(e);s.hasOwnProperty(a)||(s[a]=new Vn.MeshLambertMaterial({color:jn(a||"#ffffaa"),transparent:!0,opacity:p.nodeOpacity*Tn(a)})),n=new Vn.Mesh(c[r],s[a])}n.__graphObjType="node",n.__data=e,p.graphScene.add(e.__threeObj=n)});var g=Pt(p.linkMaterial),y=Pt(p.linkColor),v=Pt(p.linkWidth),x=Pt(p.linkDirectionalParticles),m=Pt(p.linkDirectionalParticleWidth),_=Pt(p.linkDirectionalParticleColor),w={},k={},N={},A={};p.graphData.links.forEach(function(e){var t=y(e),n=Math.ceil(10*v(e))/10,r=!!n,a=void 0;if(r){if(!k.hasOwnProperty(n)){var f=n/2;(a=new Vn.CylinderGeometry(f,f,1,p.linkResolution,1,!1)).applyMatrix((new Vn.Matrix4).makeTranslation(0,.5,0)),a.applyMatrix((new Vn.Matrix4).makeRotationX(Math.PI/2)),k[n]=a}a=k[n]}else a=new Vn.BufferGeometry;var i=g(e);if(!i){if(!w.hasOwnProperty(t)){var o=p.linkOpacity*Tn(t);w[t]=new Vn.MeshLambertMaterial({color:jn(t||"#f0f0f0"),transparent:o<1,opacity:o,depthWrite:1<=o})}i=w[t]}var c=new Vn[r?"Mesh":"Line"](a,i);c.renderOrder=10,c.__graphObjType="link",c.__data=e,p.graphScene.add(e.__lineObj=c);var s=Math.round(Math.abs(x(e))),d=Math.ceil(10*m(e))/10/2,u=_(e)||t||"#f0f0f0";A.hasOwnProperty(d)||(A[d]=new Vn.SphereGeometry(d,p.linkDirectionalParticleResolution,p.linkDirectionalParticleResolution));var h=A[d];N.hasOwnProperty(t)||(N[t]=new Vn.MeshLambertMaterial({color:jn(u),transparent:!0,opacity:3*p.linkOpacity}));var l=N[t],b=[].concat(Un(Array(s))).map(function(){return new Vn.Mesh(h,l)});b.forEach(function(e){return p.graphScene.add(e)}),e.__photonObjs=b})}if(p.simulationNeedsReheating){p.simulationNeedsReheating=!1,p.engineRunning=!1,p.graphData.links.forEach(function(e){e.source=e[p.linkSource],e.target=e[p.linkTarget]});var n="ngraph"!==p.forceEngine,r=void 0;if(n){(r=p.d3ForceLayout).stop().alpha(1).numDimensions(p.numDimensions).nodes(p.graphData.nodes);var a=p.d3ForceLayout.force("link");a&&a.id(function(e){return e[p.nodeId]}).links(p.graphData.links)}else{var d=Hn.graph();p.graphData.nodes.forEach(function(e){d.addNode(e[p.nodeId])}),p.graphData.links.forEach(function(e){d.addLink(e.source,e.target)}),(r=Hn["forcelayout"+(2===p.numDimensions?"":"3d")](d)).graph=d}for(var u=0;u<p.warmupTicks;u++)r[n?"tick":"step"]();p.layout=r,this.resetCountdown(),p.onFinishLoading()}p.engineRunning=!0}}),e.Group,!0)});